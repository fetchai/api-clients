{ "openapi": "3.0.0", "info": { "title": "FastAPI", "version": "0.1.0" }, "paths": { "/internal/alive": { "get": { "tags": [ "internal" ], "summary": "Liveness Probe", "operationId": "liveness_probe_internal_alive_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } }, "x-internal": true } }, "/internal/ready": { "get": { "tags": [ "internal" ], "summary": "Readiness Probe", "operationId": "readiness_probe_internal_ready_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } }, "x-internal": true } }, "/internal/metrics": { "get": { "tags": [ "internal" ], "summary": "Metrics", "operationId": "metrics_internal_metrics_get", "responses": { "200": { "description": "Successful Response", "content": { "text/plain": { "schema": { "type": "string" } } } } }, "x-internal": true } }, "/internal/agents/{address}": { "post": { "tags": [ "internal" ], "summary": "Backdoor Register", "operationId": "backdoor_register_internal_agents__address__post", "parameters": [ { "name": "address", "in": "path", "required": true, "schema": { "type": "string", "title": "Address" } } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ServiceRecord" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "x-internal": true } }, "/v1/almanac/recent": { "get": { "tags": [ "almanac" ], "summary": "Get Recently Registered Agents", "operationId": "get_recently_registered_agents_v1_almanac_recent_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "items": { "$ref": "#/components/schemas/Agent" }, "type": "array", "title": "Response Get Recently Registered Agents V1 Almanac Recent Get" } } } } } } }, "/v1/almanac/search": { "post": { "tags": [ "almanac" ], "summary": "Search Agents", "operationId": "search_agents_v1_almanac_search_post", "parameters": [ { "name": "page_num", "in": "query", "required": false, "schema": { "anyOf": [ { "type": "integer" }, { "type": "null" } ], "title": "Page Num" } } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AgentSearch" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "anyOf": [ { "$ref": "#/components/schemas/WithPagination_List_Agent__" }, { "type": "array", "items": { "$ref": "#/components/schemas/Agent" } } ], "title": "Response Search Agents V1 Almanac Search Post" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/agents/{address}": { "get": { "tags": [ "almanac" ], "summary": "Get Specific Agent", "operationId": "get_specific_agent_v1_almanac_agents__address__get", "parameters": [ { "name": "address", "in": "path", "required": true, "schema": { "type": "string", "title": "Address" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/agents": { "post": { "tags": [ "almanac" ], "summary": "Register Agent", "operationId": "register_agent_v1_almanac_agents_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AgentRegistrationAttestation" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/agents/{agent_address}/status": { "post": { "tags": [ "almanac" ], "summary": "Update Agent Status", "operationId": "update_agent_status_v1_almanac_agents__agent_address__status_post", "parameters": [ { "name": "agent_address", "in": "path", "required": true, "schema": { "type": "string", "title": "Agent Address" } } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AgentStatusUpdate" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/agents/batch": { "post": { "tags": [ "almanac" ], "summary": "Register Agents Batch", "operationId": "register_agents_batch_v1_almanac_agents_batch_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AgentRegistrationAttestationBatch" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/search/available_name": { "get": { "tags": [ "almanac" ], "summary": "Search Available Agent Name", "operationId": "search_available_agent_name_v1_almanac_search_available_name_get", "parameters": [ { "name": "name_prefix", "in": "query", "required": true, "schema": { "type": "string", "title": "Name Prefix" } }, { "name": "network", "in": "query", "required": false, "schema": { "type": "string", "default": "testnet", "title": "Network" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/AgentNameAvailability" }, "title": "Response Search Available Agent Name V1 Almanac Search Available Name Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/search/domains/{address}": { "get": { "tags": [ "almanac" ], "summary": "Get Domains", "operationId": "get_domains_v1_almanac_search_domains__address__get", "parameters": [ { "name": "address", "in": "path", "required": true, "schema": { "type": "string", "title": "Address" } }, { "name": "network", "in": "query", "required": false, "schema": { "type": "string", "default": "testnet", "title": "Network" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/DomainDetails" }, "title": "Response Get Domains V1 Almanac Search Domains Address Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/search/domain_details/{domain_name}": { "get": { "tags": [ "almanac" ], "summary": "Get Domain Details", "operationId": "get_domain_details_v1_almanac_search_domain_details__domain_name__get", "parameters": [ { "name": "domain_name", "in": "path", "required": true, "schema": { "type": "string", "title": "Domain Name" } }, { "name": "network", "in": "query", "required": false, "schema": { "type": "string", "default": "testnet", "title": "Network" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/DomainDetails" }, "title": "Response Get Domain Details V1 Almanac Search Domain Details Domain Name Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/search/agents-by-domain/{domain_name}": { "get": { "tags": [ "almanac" ], "summary": "Get Agents By Domain", "operationId": "get_agents_by_domain_v1_almanac_search_agents_by_domain__domain_name__get", "parameters": [ { "name": "domain_name", "in": "path", "required": true, "schema": { "type": "string", "title": "Domain Name" } }, { "name": "network", "in": "query", "required": false, "schema": { "type": "string", "default": "testnet", "title": "Network" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Agent" }, "title": "Response Get Agents By Domain V1 Almanac Search Agents By Domain Domain Name Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/domains/{domain}": { "get": { "tags": [ "almanac" ], "summary": "Get Domain Record", "operationId": "get_domain_record_v1_almanac_domains__domain__get", "parameters": [ { "name": "domain", "in": "path", "required": true, "schema": { "type": "string", "title": "Domain" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/DomainRecord" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/manifests": { "post": { "tags": [ "manifests" ], "summary": "Upload Manifest", "operationId": "upload_manifest_v1_almanac_manifests_post", "requestBody": { "content": { "application/json": { "schema": { "title": "Raw Manifest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/manifests/protocols/{protocol_digest}": { "get": { "tags": [ "manifests" ], "summary": "Get Protocol Manifest", "operationId": "get_protocol_manifest_v1_almanac_manifests_protocols__protocol_digest__get", "parameters": [ { "name": "protocol_digest", "in": "path", "required": true, "schema": { "type": "string", "pattern": "^[a-f0-9]{64}$", "title": "Protocol Digest" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Manifest" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/manifests/digests/": { "get": { "tags": [ "manifests" ], "summary": "Resolve Procotol Digests", "operationId": "resolve_procotol_digests_v1_almanac_manifests_digests__get", "parameters": [ { "name": "protocol_digest", "in": "query", "required": false, "schema": { "anyOf": [ { "type": "array", "items": { "type": "string" } }, { "type": "null" } ], "title": "Protocol Digest" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/ResolvedProtocolDigest" }, "title": "Response Resolve Procotol Digests V1 Almanac Manifests Digests Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/manifests/digests/search/": { "get": { "tags": [ "manifests" ], "summary": "Search Procotol Digests", "operationId": "search_procotol_digests_v1_almanac_manifests_digests_search__get", "parameters": [ { "name": "name", "in": "query", "required": false, "schema": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "default": "", "title": "Name" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/ResolvedProtocolDigest" }, "title": "Response Search Procotol Digests V1 Almanac Manifests Digests Search Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/v1/almanac/manifests/models/{model_digest}": { "get": { "tags": [ "manifests" ], "summary": "Get Protocol Models", "operationId": "get_protocol_models_v1_almanac_manifests_models__model_digest__get", "parameters": [ { "name": "model_digest", "in": "path", "required": true, "schema": { "type": "string", "pattern": "^[a-f0-9]{64}$", "title": "Model Digest" } } ], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } } }, "components": { "schemas": { "Agent": { "properties": { "status": { "$ref": "#/components/schemas/AgentStatus" }, "type": { "$ref": "#/components/schemas/AgentType" }, "address": { "type": "string", "title": "Address" }, "domain_name": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Domain Name" }, "prefix": { "anyOf": [ { "type": "string", "enum": [ "agent", "test-agent" ] }, { "type": "null" } ], "title": "Prefix", "default": "test-agent" }, "endpoints": { "items": { "$ref": "#/components/schemas/Endpoint" }, "type": "array", "title": "Endpoints" }, "metadata": { "anyOf": [ { "additionalProperties": true, "type": "object" }, { "type": "null" } ], "title": "Metadata" }, "protocols": { "items": { "type": "string" }, "type": "array", "title": "Protocols" }, "expiry": { "type": "string", "format": "date-time", "title": "Expiry" }, "developer_category": { "anyOf": [ { "$ref": "#/components/schemas/DeveloperCategory" }, { "type": "null" } ] }, "name": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Name" }, "running": { "anyOf": [ { "type": "boolean" }, { "type": "null" } ], "title": "Running" }, "maintainer_id": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Maintainer Id" }, "username": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Username" }, "code_update_timestamp": { "anyOf": [ { "type": "string", "format": "date-time" }, { "type": "null" } ], "title": "Code Update Timestamp" }, "total_interactions": { "anyOf": [ { "type": "integer" }, { "type": "null" } ], "title": "Total Interactions" }, "trust_score": { "anyOf": [ { "type": "number" }, { "type": "null" } ], "title": "Trust Score" } }, "type": "object", "required": [ "status", "type", "address", "endpoints", "protocols", "expiry" ], "title": "Agent" }, "AgentEndpoint": { "properties": { "url": { "type": "string", "title": "Url" }, "weight": { "type": "integer", "title": "Weight" } }, "type": "object", "required": [ "url", "weight" ], "title": "AgentEndpoint" }, "AgentNameAvailability": { "properties": { "name_prefix": { "type": "string", "title": "Name Prefix" }, "domain": { "type": "string", "title": "Domain" }, "status": { "$ref": "#/components/schemas/AgentNameAvailabilityStatus" } }, "type": "object", "required": [ "name_prefix", "domain", "status" ], "title": "AgentNameAvailability" }, "AgentNameAvailabilityStatus": { "type": "string", "enum": [ "reserved", "available" ], "title": "AgentNameAvailabilityStatus" }, "AgentNetwork": { "type": "string", "enum": [ "mainnet", "testnet" ], "title": "AgentNetwork" }, "AgentRecord": { "properties": { "address": { "type": "string", "title": "Address" }, "weight": { "type": "number", "title": "Weight" } }, "type": "object", "required": [ "address", "weight" ], "title": "AgentRecord" }, "AgentRegistrationAttestation": { "properties": { "agent_identifier": { "type": "string", "title": "Agent Identifier" }, "signature": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Signature" }, "timestamp": { "anyOf": [ { "type": "integer" }, { "type": "null" } ], "title": "Timestamp" }, "protocols": { "items": { "type": "string" }, "type": "array", "title": "Protocols" }, "endpoints": { "items": { "$ref": "#/components/schemas/AgentEndpoint" }, "type": "array", "title": "Endpoints" }, "metadata": { "anyOf": [ { "additionalProperties": { "anyOf": [ { "type": "string" }, { "additionalProperties": { "type": "string" }, "type": "object" } ] }, "type": "object" }, { "type": "null" } ], "title": "Metadata" } }, "type": "object", "required": [ "agent_identifier", "protocols", "endpoints" ], "title": "AgentRegistrationAttestation" }, "AgentRegistrationAttestationBatch": { "properties": { "attestations": { "items": { "$ref": "#/components/schemas/AgentRegistrationAttestation" }, "type": "array", "title": "Attestations" } }, "type": "object", "required": [ "attestations" ], "title": "AgentRegistrationAttestationBatch" }, "AgentSearch": { "properties": { "text": { "type": "string", "title": "Text" }, "protocols": { "anyOf": [ { "items": { "type": "string" }, "type": "array" }, { "type": "null" } ], "title": "Protocols" }, "types": { "anyOf": [ { "items": { "$ref": "#/components/schemas/AgentType" }, "type": "array" }, { "type": "null" } ], "title": "Types" }, "status": { "anyOf": [ { "items": { "$ref": "#/components/schemas/AgentStatusFilter" }, "type": "array" }, { "type": "null" } ], "title": "Status" }, "dev_categories": { "anyOf": [ { "items": { "$ref": "#/components/schemas/DeveloperCategory" }, "type": "array" }, { "type": "null" } ], "title": "Dev Categories" }, "limit": { "anyOf": [ { "type": "integer" }, { "type": "null" } ], "title": "Limit" }, "network": { "anyOf": [ { "$ref": "#/components/schemas/AgentNetwork" }, { "type": "null" } ] }, "sort": { "anyOf": [ { "$ref": "#/components/schemas/SortAgents" }, { "type": "null" } ], "default": "Recent" } }, "type": "object", "required": [ "text" ], "title": "AgentSearch" }, "AgentStatus": { "type": "string", "enum": [ "active", "offline", "local" ], "title": "AgentStatus" }, "AgentStatusFilter": { "type": "string", "enum": [ "Active", "Inactive" ], "title": "AgentStatusFilter" }, "AgentStatusUpdate": { "properties": { "agent_identifier": { "type": "string", "title": "Agent Identifier" }, "signature": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Signature" }, "timestamp": { "anyOf": [ { "type": "integer" }, { "type": "null" } ], "title": "Timestamp" }, "is_active": { "type": "boolean", "title": "Is Active" } }, "type": "object", "required": [ "agent_identifier", "is_active" ], "title": "AgentStatusUpdate" }, "AgentType": { "type": "string", "enum": [ "Local", "Hosted", "Mailbox", "Custom", "Proxy" ], "title": "AgentType" }, "DeveloperCategory": { "type": "string", "enum": [ "Community", "Verified", "FetchMember" ], "title": "DeveloperCategory" }, "DomainDetails": { "properties": { "domain_name": { "type": "string", "title": "Domain Name" }, "trnsx_height": { "type": "integer", "title": "Trnsx Height" }, "permissions": { "type": "string", "title": "Permissions" }, "account_address": { "type": "string", "title": "Account Address" }, "updated_by": { "type": "string", "title": "Updated By" } }, "type": "object", "required": [ "domain_name", "trnsx_height", "permissions", "account_address", "updated_by" ], "title": "DomainDetails" }, "DomainRecord": { "properties": { "name": { "type": "string", "title": "Name" }, "agents": { "items": { "$ref": "#/components/schemas/AgentRecord" }, "type": "array", "title": "Agents" } }, "type": "object", "required": [ "name", "agents" ], "title": "DomainRecord" }, "Endpoint": { "properties": { "url": { "type": "string", "title": "Url" }, "weight": { "type": "integer", "title": "Weight" } }, "type": "object", "required": [ "url", "weight" ], "title": "Endpoint" }, "HTTPValidationError": { "properties": { "detail": { "items": { "$ref": "#/components/schemas/ValidationError" }, "type": "array", "title": "Detail" } }, "type": "object", "title": "HTTPValidationError" }, "Interaction": { "properties": { "type": { "$ref": "#/components/schemas/InteractionType" }, "request": { "type": "string", "pattern": "^model:[0-9a-f]{64}$", "title": "Request" }, "responses": { "items": { "type": "string", "pattern": "^model:[0-9a-f]{64}$" }, "type": "array", "title": "Responses" } }, "type": "object", "required": [ "type", "request", "responses" ], "title": "Interaction" }, "InteractionType": { "type": "string", "enum": [ "normal", "query" ], "title": "InteractionType" }, "Manifest": { "properties": { "version": { "type": "string", "pattern": "^[0-9]+\\.[0-9]+(?:\\.[0-9]+)?$", "title": "Version" }, "metadata": { "$ref": "#/components/schemas/Metadata" }, "models": { "items": { "$ref": "#/components/schemas/Model" }, "type": "array", "title": "Models" }, "interactions": { "items": { "$ref": "#/components/schemas/Interaction" }, "type": "array", "title": "Interactions" }, "nodes": { "anyOf": [ { "items": { "additionalProperties": true, "type": "object" }, "type": "array" }, { "type": "null" } ], "title": "Nodes" }, "edges": { "anyOf": [ { "items": { "additionalProperties": true, "type": "object" }, "type": "array" }, { "type": "null" } ], "title": "Edges" } }, "type": "object", "required": [ "version", "metadata", "models", "interactions" ], "title": "Manifest" }, "Metadata": { "properties": { "name": { "type": "string", "title": "Name" }, "description": { "anyOf": [ { "type": "string" }, { "type": "null" } ], "title": "Description" }, "version": { "type": "string", "pattern": "^[0-9]+\\.[0-9]+(?:\\.[0-9]+)?$", "title": "Version" }, "digest": { "type": "string", "pattern": "^proto:[0-9a-f]{64}$", "title": "Digest" } }, "type": "object", "required": [ "name", "version", "digest" ], "title": "Metadata" }, "Model": { "properties": { "digest": { "type": "string", "pattern": "^model:[0-9a-f]{64}$", "title": "Digest" }, "schema": { "title": "Schema" } }, "type": "object", "required": [ "digest" ], "title": "Model" }, "ResolvedProtocolDigest": { "properties": { "digest": { "type": "string", "title": "Digest" }, "name": { "type": "string", "title": "Name" }, "version": { "type": "string", "title": "Version" } }, "type": "object", "required": [ "digest", "name", "version" ], "title": "ResolvedProtocolDigest" }, "ServiceRecord": { "properties": { "agent_address": { "type": "string", "title": "Agent Address" }, "protocols": { "items": { "type": "string" }, "type": "array", "title": "Protocols" }, "endpoints": { "items": { "$ref": "#/components/schemas/Endpoint" }, "type": "array", "title": "Endpoints" }, "expiry": { "type": "string", "format": "date-time", "title": "Expiry" } }, "type": "object", "required": [ "agent_address", "protocols", "endpoints", "expiry" ], "title": "ServiceRecord" }, "SortAgents": { "type": "string", "enum": [ "Recent", "TotalInteractions" ], "title": "SortAgents" }, "ValidationError": { "properties": { "loc": { "items": { "anyOf": [ { "type": "string" }, { "type": "integer" } ] }, "type": "array", "title": "Location" }, "msg": { "type": "string", "title": "Message" }, "type": { "type": "string", "title": "Error Type" } }, "type": "object", "required": [ "loc", "msg", "type" ], "title": "ValidationError" }, "WithPagination_List_Agent__": { "properties": { "objects": { "items": { "$ref": "#/components/schemas/Agent" }, "type": "array", "title": "Objects" }, "total": { "type": "integer", "title": "Total" }, "page_size": { "type": "integer", "title": "Page Size" }, "tracker_last_update": { "anyOf": [ { "type": "string", "format": "date-time" }, { "type": "null" } ], "title": "Tracker Last Update" } }, "type": "object", "required": [ "objects", "total", "page_size" ], "title": "WithPagination[List[Agent]]" } } } }
